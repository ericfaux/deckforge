import{j as e,L as d,W as p}from"./modals-DwT-_xKp.js";import{r as s,e as f,bB as j,be as g,b8 as w,X as N}from"./vendor-ui-Cq8k3voL.js";import{S as v}from"./index-Dp8qTJm5.js";import"./vendor-supabase-CoxeBSpk.js";import"./vendor-react-Bkg-76Ue.js";function P({isOpen:n,onClose:x}){const[t,m]=s.useState(!0),[a,h]=s.useState(2),[c,o]=s.useState(0),[l,u]=s.useState(!1),r=s.useRef();return s.useEffect(()=>{if(n&&t){const i=()=>{o(b=>(b+a)%360),r.current=requestAnimationFrame(i)};r.current=requestAnimationFrame(i)}return()=>{r.current&&cancelAnimationFrame(r.current)}},[n,t,a]),n?e.jsxs("div",{className:"fixed inset-0 z-50 bg-black",children:[e.jsxs("div",{className:"absolute top-0 left-0 right-0 h-14 bg-black/80 backdrop-blur-sm border-b border-white/10 flex items-center px-4 z-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-primary"}),e.jsx("h2",{className:"font-display text-sm uppercase tracking-wider text-white",children:"Animation Preview"})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[e.jsx("button",{onClick:()=>m(!t),className:"w-10 h-10 flex items-center justify-center hover:bg-white/10 transition-colors rounded",title:t?"Pause":"Play",children:t?e.jsx(j,{className:"w-5 h-5 text-white"}):e.jsx(g,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:()=>u(!l),className:`w-10 h-10 flex items-center justify-center hover:bg-white/10 transition-colors rounded ${l?"bg-white/10":""}`,title:"Settings",children:e.jsx(w,{className:"w-5 h-5 text-white"})}),e.jsx("button",{onClick:x,className:"w-10 h-10 flex items-center justify-center hover:bg-white/10 transition-colors rounded",title:"Close",children:e.jsx(N,{className:"w-5 h-5 text-white"})})]})]}),l&&e.jsxs("div",{className:"absolute top-14 right-4 w-64 bg-card border border-border shadow-xl z-10 p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{className:"text-xs",children:"Rotation Speed"}),e.jsx(v,{value:[a],onValueChange:([i])=>h(i),min:.5,max:10,step:.5,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Slow"}),e.jsxs("span",{children:[a,"°/frame"]}),e.jsx("span",{children:"Fast"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{className:"text-xs",children:"Current Angle"}),e.jsxs("div",{className:"text-lg font-mono text-center",children:[Math.round(c),"°"]})]}),e.jsx("button",{onClick:()=>o(0),className:"w-full btn-brutal text-xs py-2",children:"Reset Rotation"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:"radial-gradient(circle, rgba(40,40,40,1) 0%, rgba(0,0,0,1) 100%)"},children:e.jsxs("div",{className:"relative",style:{transform:`perspective(1000px) rotateY(${c}deg)`,transformStyle:"preserve-3d",transition:t?"none":"transform 0.3s ease"},children:[e.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 w-32 h-8 rounded-full",style:{background:"radial-gradient(ellipse, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 70%)",filter:"blur(8px)"}}),e.jsx("div",{className:"relative",style:{transform:"scale(2.5)",filter:"drop-shadow(0 20px 40px rgba(0,0,0,0.5))"},children:e.jsx(p,{})})]})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-center space-y-2",children:[e.jsx("p",{className:"text-sm text-white/60 uppercase tracking-wider",children:t?"Rotating...":"Paused"}),e.jsx("p",{className:"text-xs text-white/40",children:"Use settings to adjust speed"})]})]}):null}export{P as AnimationPreview};
